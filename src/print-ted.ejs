<!-- 
PAUSADO NA PARTE DO TEDNPM 
 -->
<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>PDF TED</title>
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

<style>
     @font-face {
     font-family: Courier;
     src: url(./fonts/fonte.ttf)
     }
     *{
          font-family: Courier;
     }
     .main{
          margin: 0 auto;
          width: 600px;
     }
     .extrato{
          height: 600px;
          background-color: #fff;
          padding: 10px;
          display: grid;
          row-gap: 3px;
     }
     .row-3{
          display: grid;
          grid-template-columns: 1fr 1fr 1fr;
     }
     .row-2{
          display: grid;
          grid-template-columns: 1fr 1fr;
     }

     .row-1{
          display: grid;
          grid-template-columns: 1fr;
     }
</style>
</head>
<body>
     <%
          let ultimoTed = ted[ted.length -1]

          var data = new Date();         
          var dia = String(data.getDate()).padStart(2, '0');
          var mes = String(data.getMonth() + 1).padStart(2, '0');
          var ano = data.getFullYear();
          dataAtual = dia + '/' + mes + '/' + ano;
          var hora = data.getHours() < 10 ? "0"+data.getHours() : data.getHours();
          var minuto = (data.getMinutes()+3) < 10 ? "0"+ data.getMinutes()  : (data.getMinutes()+3);
          var segundo = data.getSeconds() < 10 ? "0"+data.getSeconds(): data.getSeconds();
          var horario = hora + ":" + minuto + ":" + segundo;

          function rand(){
               return Math.floor(Math.random() * 10)
          }
     %>
     <div class="main">
          <div class="extrato">
               <div class="row-1">SISBB - SISTEMA DE INFORMACOES BANCO DO BRASIL</div>
               <div class="row-3">
                    <div><%= dia %>/<%= mes %>/<%= ano %></div>
                    <div style="text-align: center;">- BANCO DO BRASIL -</div>
                    <div style="text-align: right;"><%= hora %>:<%= minuto %>:<%= segundo %></div>
               </div>

               <div class="row-2">
                    <div style="text-align: left;"><%=rand()%>2<%=rand()%><%=rand()%>5<%=rand()%><%=rand()%>8<%=rand()%></div>
                    <div style="text-align: right;"><%=rand()%><%=rand()%><%=rand()%><%=rand()%></div>
               </div>

               <div class="row-1">
                    <div style="text-align: center;">COMPROVANTE DE TED</div>
                    <br>
               </div>
               
               <div class="row-1">
                    <div>CLIENTE: FINANCE CORRESPONDENTE BANCARIO</div>
               </div>

               <div class="row-2">
                    <div>AGENCIA: 6547-6</div>
                    <div>CONTA: 048726-3</div>
               </div>
               <div class="row-1">
                    =============================================================
               </div>
               <div class="row-2">
                    <div style="text-align:left">NR. DOCUMENTO</div>
                    <div style="text-align:right"><%=rand()%><%=rand()%>.<%=rand()%><%=rand()%><%=rand()%></div>
               </div>

               <div class="row-2">
                    <div>DATA DA TRANSFERENCIA</div>
                    <div style="text-align:right"><%= dia %>/<%= mes %>/<%= ano %></div>
               </div>

               <div class="row-2">
                    <div>REMETENTE</div>
                    <div>FINANCE CORRESPONDENTE BANCARIO</div>
               </div>
               
               <div class="row-2">
                    <div>FAVORECIDO</div>
                    <% let nome =ultimoTed.nome %>
                    <div><%= nome.toUpperCase() %></div>
               </div>
               <div class="row-2">
                    <div>CPF</div>
                    <div><%= ultimoTed.cpf %></div>
               </div>
               <div class="row-2">
                    <div>BANCO</div>
                    <div><%= ultimoTed.banco %></div>
               </div>
               <div class="row-2">
                    <div>AGENCIA <%= ultimoTed.ag %></div>
                    <div>CONTA <%= ultimoTed.conta %></div>
               </div>

               <div class="row-1">
                    <div>FINALIDADE 001 CREDITO EM CONTA</div>
               </div>
               
               <div class="row-1">
                    <div>ORIGEM DO DEBITO  CONTA CORRENTE</div>
               </div>

               <div class="row-2">
                    <div>VALOR</div>
                    <div style="text-align:right">R$<%= ultimoTed.valor %>.520,88</div>
               </div>

               <div class="row-2">
                    <div>VALOR TOTAL</div>
                    <div style="text-align:right">R$<%= ultimoTed.valor %>.520,88</div>
               </div>

               <div class="row-1">
                    =============================================================
               </div>

               <div class="row-2">
                    <div>NR. AUTENTICACAO</div>
                    <div style="text-align: right;"><%=rand()%>.<%=rand()%><%=rand()%>I.<%=rand()%>3<%=rand()%>H.<%=rand()%>9F.<%=rand()%>H3.0<%=rand()%>3</div>
               </div>
          </div>
     </div>
</body>
<script>
     window.addEventListener("click",()=>{
         window.location.assign("http://localhost:3001/ted");
     })
 </script>
</html>